{
  "version": "1.1",
  "engine": "linux/amd64|Transformer|1.40.11|1b271555882eacdfb4e6598d6d0552e9b9b1449b|2024-02-02_01:36:22PM",
  "containerized": false,
  "host_distro": {
    "name": "Ubuntu",
    "version": "24.04",
    "display_name": "Ubuntu 24.04.1 LTS"
  },
  "type": "build",
  "state": "error",
  "error": "exec.cmd.failure",
  "target_reference": "postgis/postgis:latest",
  "system": {
    "type": "",
    "release": "",
    "distro": {
      "name": "",
      "version": "",
      "display_name": ""
    }
  },
  "source_image": {
    "identity": {
      "id": ""
    },
    "size": 0,
    "size_human": "",
    "create_time": "",
    "docker_version": "",
    "architecture": "",
    "container_entry": {
      "exe_path": ""
    }
  },
  "minified_image_size": 0,
  "minified_image_size_human": "",
  "minified_image": "",
  "minified_image_id": "",
  "minified_image_digest": "",
  "minified_image_has_data": false,
  "minified_by": 0,
  "artifact_location": "",
  "container_report_name": "",
  "seccomp_profile_name": "",
  "apparmor_profile_name": "",
  "image_stack": [
    {
      "is_top_image": true,
      "id": "sha256:7db4bc52cc251ad3ab025d84637ec879c2f7964b879c1f9ec9d1835fc0107e2a",
      "full_name": "postgis/postgis:latest",
      "repo_name": "postgis/postgis",
      "version_tag": "latest",
      "raw_tags": [
        "postgis/postgis:latest"
      ],
      "create_time": "2024-10-28T05:30:20Z",
      "new_size": 611437158,
      "new_size_human": "611 MB",
      "instructions": [
        {
          "type": "ADD",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 80635024,
          "size_human": "81 MB",
          "params": "file:0f6f1b93a8fddd20b36a99cc6cfbe4a03bc7be2adb427f7f8e74a2029c54c8bb in /",
          "command_snippet": "ADD file:0f6f1b93a8fddd20b36a99cc6cfbe4a03bc...",
          "command_all": "ADD file:0f6f1b93a8fddd20b36a99cc6cfbe4a03bc7be2adb427f7f8e74a2029c54c8bb /",
          "target": "/",
          "source_type": "file",
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "CMD",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"bash\"]\n",
          "command_snippet": "CMD [\"bash\"]\n",
          "command_all": "CMD [\"bash\"]\n",
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 327165,
          "size_human": "327 kB",
          "command_snippet": "RUN set -eux; \tgroupadd -r postgres --gid=99...",
          "command_all": "RUN set -eux; \tgroupadd -r postgres --gid=999; \tuseradd -r -g postgres --uid=999 --home-dir=/var/lib/postgresql --shell=/bin/bash postgres; \tinstall --verbose --directory --owner postgres --group postgres --mode 1777 /var/lib/postgresql",
          "system_commands": [
            "set -eux",
            "groupadd -r postgres --gid=999",
            "useradd -r -g postgres --uid=999 --home-dir=/var/lib/postgresql --shell=/bin/bash postgres",
            "install --verbose --directory --owner postgres --group postgres --mode 1777 /var/lib/postgresql"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 9414439,
          "size_human": "9.4 MB",
          "command_snippet": "RUN set -ex; \tapt-get update; \tapt-get insta...",
          "command_all": "RUN set -ex; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tgnupg \t\tless \t; \trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "set -ex",
            "apt-get update",
            "apt-get install -y --no-install-recommends gnupg less",
            "rm -rf /var/lib/apt/lists/*"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENV",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "GOSU_VERSION=1.17",
          "command_snippet": "ENV GOSU_VERSION=1.17",
          "command_all": "ENV GOSU_VERSION=1.17",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 4229664,
          "size_human": "4.2 MB",
          "command_snippet": "RUN set -eux; \tsavedAptMark=\"$(apt-mark show...",
          "command_all": "RUN set -eux; \tsavedAptMark=\"$(apt-mark showmanual)\"; \tapt-get update; \tapt-get install -y --no-install-recommends ca-certificates wget; \trm -rf /var/lib/apt/lists/*; \tdpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"; \twget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\"; \twget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\"; \texport GNUPGHOME=\"$(mktemp -d)\"; \tgpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4; \tgpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu; \tgpgconf --kill all; \trm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc; \tapt-mark auto '.*' > /dev/null; \t[ -z \"$savedAptMark\" ] || apt-mark manual $savedAptMark > /dev/null; \tapt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false; \tchmod +x /usr/local/bin/gosu; \tgosu --version; \tgosu nobody true",
          "system_commands": [
            "set -eux",
            "savedAptMark=\"$(apt-mark showmanual)\"",
            "apt-get update",
            "apt-get install -y --no-install-recommends ca-certificates wget",
            "rm -rf /var/lib/apt/lists/*",
            "dpkgArch=\"$(dpkg --print-architecture | awk -F- '{ print $NF }')\"",
            "wget -O /usr/local/bin/gosu \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch\"",
            "wget -O /usr/local/bin/gosu.asc \"https://github.com/tianon/gosu/releases/download/$GOSU_VERSION/gosu-$dpkgArch.asc\"",
            "export GNUPGHOME=\"$(mktemp -d)\"",
            "gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys B42F6819007F00F88E364FD4036A9C25BF357DD4",
            "gpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu",
            "gpgconf --kill all",
            "rm -rf \"$GNUPGHOME\" /usr/local/bin/gosu.asc",
            "apt-mark auto '.*' > /dev/null",
            "[ -z \"$savedAptMark\" ] || apt-mark manual $savedAptMark > /dev/null",
            "apt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false",
            "chmod +x /usr/local/bin/gosu",
            "gosu --version",
            "gosu nobody true"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 25103743,
          "size_human": "25 MB",
          "command_snippet": "RUN set -eux; \tif [ -f /etc/dpkg/dpkg.cfg.d/...",
          "command_all": "RUN set -eux; \tif [ -f /etc/dpkg/dpkg.cfg.d/docker ]; then \t\tgrep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker; \t\tsed -ri '/\\/usr\\/share\\/locale/d' /etc/dpkg/dpkg.cfg.d/docker; \t\t! grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker; \tfi; \tapt-get update; apt-get install -y --no-install-recommends locales; rm -rf /var/lib/apt/lists/*; \techo 'en_US.UTF-8 UTF-8' >> /etc/locale.gen; \tlocale-gen; \tlocale -a | grep 'en_US.utf8'",
          "system_commands": [
            "set -eux",
            "if [ -f /etc/dpkg/dpkg.cfg.d/docker ]",
            "then grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker",
            "sed -ri '//usr/share/locale/d' /etc/dpkg/dpkg.cfg.d/docker",
            "! grep -q '/usr/share/locale' /etc/dpkg/dpkg.cfg.d/docker",
            "fi",
            "apt-get update",
            "apt-get install -y --no-install-recommends locales",
            "rm -rf /var/lib/apt/lists/*",
            "echo 'en_US.UTF-8 UTF-8' >> /etc/locale.gen",
            "locale-gen",
            "locale -a | grep 'en_US.utf8'"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENV",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "LANG=en_US.utf8",
          "command_snippet": "ENV LANG=en_US.utf8",
          "command_all": "ENV LANG=en_US.utf8",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 2636577,
          "size_human": "2.6 MB",
          "command_snippet": "RUN set -eux; \tapt-get update; \tapt-get inst...",
          "command_all": "RUN set -eux; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tlibnss-wrapper \t\txz-utils \t\tzstd \t; \trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "set -eux",
            "apt-get update",
            "apt-get install -y --no-install-recommends libnss-wrapper xz-utils zstd",
            "rm -rf /var/lib/apt/lists/*"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN mkdir /docker-entrypoint-initdb.d",
          "command_all": "RUN mkdir /docker-entrypoint-initdb.d",
          "system_commands": [
            "mkdir /docker-entrypoint-initdb.d"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 3979,
          "size_human": "4.0 kB",
          "command_snippet": "RUN set -ex; \tkey='B97B0AFCAA1A47F044F244A07...",
          "command_all": "RUN set -ex; \tkey='B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8'; \texport GNUPGHOME=\"$(mktemp -d)\"; \tmkdir -p /usr/local/share/keyrings/; \tgpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"; \tgpg --batch --export --armor \"$key\" > /usr/local/share/keyrings/postgres.gpg.asc; \tgpgconf --kill all; \trm -rf \"$GNUPGHOME\"",
          "system_commands": [
            "set -ex",
            "key='B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8'",
            "export GNUPGHOME=\"$(mktemp -d)\"",
            "mkdir -p /usr/local/share/keyrings/",
            "gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\"",
            "gpg --batch --export --armor \"$key\" > /usr/local/share/keyrings/postgres.gpg.asc",
            "gpgconf --kill all",
            "rm -rf \"$GNUPGHOME\""
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENV",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PG_MAJOR=17",
          "command_snippet": "ENV PG_MAJOR=17",
          "command_all": "ENV PG_MAJOR=17",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENV",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/17/bin",
          "command_snippet": "ENV PATH=/usr/local/sbin:/usr/local/bin:/usr...",
          "command_all": "ENV PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/17/bin",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENV",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PG_VERSION=17.0-1.pgdg110+1",
          "command_snippet": "ENV PG_VERSION=17.0-1.pgdg110+1",
          "command_all": "ENV PG_VERSION=17.0-1.pgdg110+1",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 280126000,
          "size_human": "280 MB",
          "command_snippet": "RUN set -ex; \t\texport PYTHONDONTWRITEBYTECOD...",
          "command_all": "RUN set -ex; \t\texport PYTHONDONTWRITEBYTECODE=1; \t\tdpkgArch=\"$(dpkg --print-architecture)\"; \taptRepo=\"[ signed-by=/usr/local/share/keyrings/postgres.gpg.asc ] http://apt.postgresql.org/pub/repos/apt/ bullseye-pgdg main $PG_MAJOR\"; \tcase \"$dpkgArch\" in \t\tamd64 | arm64 | ppc64el | s390x) \t\t\techo \"deb $aptRepo\" > /etc/apt/sources.list.d/pgdg.list; \t\t\tapt-get update; \t\t\t;; \t\t*) \t\t\techo \"deb-src $aptRepo\" > /etc/apt/sources.list.d/pgdg.list; \t\t\t\t\t\tsavedAptMark=\"$(apt-mark showmanual)\"; \t\t\t\t\t\ttempDir=\"$(mktemp -d)\"; \t\t\tcd \"$tempDir\"; \t\t\t\t\t\tapt-get update; \t\t\tapt-get install -y --no-install-recommends dpkg-dev; \t\t\techo \"deb [ trusted=yes ] file://$tempDir ./\" > /etc/apt/sources.list.d/temp.list; \t\t\t_update_repo() { \t\t\t\tdpkg-scanpackages . > Packages; \t\t\t\tapt-get -o Acquire::GzipIndexes=false update; \t\t\t}; \t\t\t_update_repo; \t\t\t\t\t\tnproc=\"$(nproc)\"; \t\t\texport DEB_BUILD_OPTIONS=\"nocheck parallel=$nproc\"; \t\t\tapt-get build-dep -y postgresql-common pgdg-keyring; \t\t\tapt-get source --compile postgresql-common pgdg-keyring; \t\t\t_update_repo; \t\t\tapt-get build-dep -y \"postgresql-$PG_MAJOR=$PG_VERSION\"; \t\t\tapt-get source --compile \"postgresql-$PG_MAJOR=$PG_VERSION\"; \t\t\t\t\t\t\t\t\tapt-mark showmanual | xargs apt-mark auto > /dev/null; \t\t\tapt-mark manual $savedAptMark; \t\t\t\t\t\tls -lAFh; \t\t\t_update_repo; \t\t\tgrep '^Package: ' Packages; \t\t\tcd /; \t\t\t;; \tesac; \t\tapt-get install -y --no-install-recommends postgresql-common; \tsed -ri 's/#(create_main_cluster) .*$/\\1 = false/' /etc/postgresql-common/createcluster.conf; \tapt-get install -y --no-install-recommends \t\t\"postgresql-$PG_MAJOR=$PG_VERSION\" \t; \t\trm -rf /var/lib/apt/lists/*; \t\tif [ -n \"$tempDir\" ]; then \t\tapt-get purge -y --auto-remove; \t\trm -rf \"$tempDir\" /etc/apt/sources.list.d/temp.list; \tfi; \t\tfind /usr -name '*.pyc' -type f -exec bash -c 'for pyc; do dpkg -S \"$pyc\" &> /dev/null || rm -vf \"$pyc\"; done' -- '{}' +; \t\tpostgres --version",
          "system_commands": [
            "set -ex",
            "export PYTHONDONTWRITEBYTECODE=1",
            "dpkgArch=\"$(dpkg --print-architecture)\"",
            "aptRepo=\"[ signed-by=/usr/local/share/keyrings/postgres.gpg.asc ] http://apt.postgresql.org/pub/repos/apt/ bullseye-pgdg main $PG_MAJOR\"",
            "case \"$dpkgArch\" in amd64 | arm64 | ppc64el | s390x) echo \"deb $aptRepo\" > /etc/apt/sources.list.d/pgdg.list",
            "apt-get update",
            "",
            "",
            "*) echo \"deb-src $aptRepo\" > /etc/apt/sources.list.d/pgdg.list",
            "savedAptMark=\"$(apt-mark showmanual)\"",
            "tempDir=\"$(mktemp -d)\"",
            "cd \"$tempDir\"",
            "apt-get update",
            "apt-get install -y --no-install-recommends dpkg-dev",
            "echo \"deb [ trusted=yes ] file://$tempDir ./\" > /etc/apt/sources.list.d/temp.list",
            "_update_repo() { dpkg-scanpackages . > Packages",
            "apt-get -o Acquire::GzipIndexes=false update",
            "}",
            "_update_repo",
            "nproc=\"$(nproc)\"",
            "export DEB_BUILD_OPTIONS=\"nocheck parallel=$nproc\"",
            "apt-get build-dep -y postgresql-common pgdg-keyring",
            "apt-get source --compile postgresql-common pgdg-keyring",
            "_update_repo",
            "apt-get build-dep -y \"postgresql-$PG_MAJOR=$PG_VERSION\"",
            "apt-get source --compile \"postgresql-$PG_MAJOR=$PG_VERSION\"",
            "apt-mark showmanual | xargs apt-mark auto > /dev/null",
            "apt-mark manual $savedAptMark",
            "ls -lAFh",
            "_update_repo",
            "grep '^Package: ' Packages",
            "cd /",
            "",
            "",
            "esac",
            "apt-get install -y --no-install-recommends postgresql-common",
            "sed -ri 's/#(create_main_cluster) .*$/1 = false/' /etc/postgresql-common/createcluster.conf",
            "apt-get install -y --no-install-recommends \"postgresql-$PG_MAJOR=$PG_VERSION\"",
            "rm -rf /var/lib/apt/lists/*",
            "if [ -n \"$tempDir\" ]",
            "then apt-get purge -y --auto-remove",
            "rm -rf \"$tempDir\" /etc/apt/sources.list.d/temp.list",
            "fi",
            "find /usr -name '*.pyc' -type f -exec bash -c 'for pyc",
            "do dpkg -S \"$pyc\" &> /dev/null || rm -vf \"$pyc\"",
            "done' -- '{}' +",
            "postgres --version"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 61949,
          "size_human": "62 kB",
          "command_snippet": "RUN set -eux; \tdpkg-divert --add --rename --...",
          "command_all": "RUN set -eux; \tdpkg-divert --add --rename --divert \"/usr/share/postgresql/postgresql.conf.sample.dpkg\" \"/usr/share/postgresql/$PG_MAJOR/postgresql.conf.sample\"; \tcp -v /usr/share/postgresql/postgresql.conf.sample.dpkg /usr/share/postgresql/postgresql.conf.sample; \tln -sv ../postgresql.conf.sample \"/usr/share/postgresql/$PG_MAJOR/\"; \tsed -ri \"s!^#?(listen_addresses)\\s*=\\s*\\S+.*!\\1 = '*'!\" /usr/share/postgresql/postgresql.conf.sample; \tgrep -F \"listen_addresses = '*'\" /usr/share/postgresql/postgresql.conf.sample",
          "system_commands": [
            "set -eux",
            "dpkg-divert --add --rename --divert \"/usr/share/postgresql/postgresql.conf.sample.dpkg\" \"/usr/share/postgresql/$PG_MAJOR/postgresql.conf.sample\"",
            "cp -v /usr/share/postgresql/postgresql.conf.sample.dpkg /usr/share/postgresql/postgresql.conf.sample",
            "ln -sv ../postgresql.conf.sample \"/usr/share/postgresql/$PG_MAJOR/\"",
            "sed -ri \"s!^#?(listen_addresses)s*=s*S+.*!1 = '*'!\" /usr/share/postgresql/postgresql.conf.sample",
            "grep -F \"listen_addresses = '*'\" /usr/share/postgresql/postgresql.conf.sample"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN install --verbose --directory --owner po...",
          "command_all": "RUN install --verbose --directory --owner postgres --group postgres --mode 3777 /var/run/postgresql",
          "system_commands": [
            "install --verbose --directory --owner postgres --group postgres --mode 3777 /var/run/postgresql"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENV",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "PGDATA=/var/lib/postgresql/data",
          "command_snippet": "ENV PGDATA=/var/lib/postgresql/data",
          "command_all": "ENV PGDATA=/var/lib/postgresql/data",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN install --verbose --directory --owner po...",
          "command_all": "RUN install --verbose --directory --owner postgres --group postgres --mode 1777 \"$PGDATA\"",
          "system_commands": [
            "install --verbose --directory --owner postgres --group postgres --mode 1777 \"$PGDATA\""
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "VOLUME",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[/var/lib/postgresql/data]",
          "command_snippet": "VOLUME [/var/lib/postgresql/data]",
          "command_all": "VOLUME [/var/lib/postgresql/data]",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "COPY",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 14962,
          "size_human": "15 kB",
          "params": "docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/",
          "command_snippet": "COPY docker-entrypoint.sh docker-ensure-init...",
          "command_all": "COPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "RUN",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 23,
          "size_human": "23 B",
          "command_snippet": "RUN ln -sT docker-ensure-initdb.sh /usr/loca...",
          "command_all": "RUN ln -sT docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh",
          "system_commands": [
            "ln -sT docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "ENTRYPOINT",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"docker-entrypoint.sh\"]\n",
          "command_snippet": "ENTRYPOINT [\"docker-entrypoint.sh\"]\n",
          "command_all": "ENTRYPOINT [\"docker-entrypoint.sh\"]\n",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "STOPSIGNAL",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "SIGINT",
          "command_snippet": "STOPSIGNAL SIGINT",
          "command_all": "STOPSIGNAL SIGINT",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "EXPOSE",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "5432/tcp",
          "command_snippet": "EXPOSE 5432/tcp",
          "command_all": "EXPOSE 5432/tcp",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "CMD",
          "time": "2024-09-26T18:19:57Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"postgres\"]\n",
          "command_snippet": "CMD [\"postgres\"]\n",
          "command_all": "CMD [\"postgres\"]\n",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-09-26T13:15:00-05:00",
          "inst_set_time_index": 0,
          "inst_set_time_reverse_index": 1
        },
        {
          "type": "LABEL",
          "time": "2024-10-28T05:30:20Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "maintainer=PostGIS Project - https://postgis.net org.opencontainers.image.description=PostGIS 3.5.0+dfsg-1.pgdg110+1 spatial database extension with PostgreSQL 17 bullseye org.opencontainers.image.source=https://github.com/postgis/docker-postgis",
          "command_snippet": "LABEL maintainer=PostGIS Project - https://p...",
          "command_all": "LABEL maintainer=PostGIS Project - https://postgis.net org.opencontainers.image.description=PostGIS 3.5.0+dfsg-1.pgdg110+1 spatial database extension with PostgreSQL 17 bullseye org.opencontainers.image.source=https://github.com/postgis/docker-postgis",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        },
        {
          "type": "ENV",
          "time": "2024-10-28T05:30:20Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "POSTGIS_MAJOR=3",
          "command_snippet": "ENV POSTGIS_MAJOR=3",
          "command_all": "ENV POSTGIS_MAJOR=3",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        },
        {
          "type": "ENV",
          "time": "2024-10-28T05:30:20Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "POSTGIS_VERSION=3.5.0+dfsg-1.pgdg110+1",
          "command_snippet": "ENV POSTGIS_VERSION=3.5.0+dfsg-1.pgdg110+1",
          "command_all": "ENV POSTGIS_VERSION=3.5.0+dfsg-1.pgdg110+1",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        },
        {
          "type": "RUN",
          "time": "2024-10-28T05:30:20Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 208881857,
          "size_human": "209 MB",
          "command_snippet": "RUN apt-get update && \\\n\tapt-cache showpkg p...",
          "command_all": "RUN apt-get update && \\\n\tapt-cache showpkg postgresql-$PG_MAJOR-postgis-$POSTGIS_MAJOR && \\\n\tapt-get install -y --no-install-recommends            ca-certificates                       postgresql-$PG_MAJOR-postgis-$POSTGIS_MAJOR=$POSTGIS_VERSION            postgresql-$PG_MAJOR-postgis-$POSTGIS_MAJOR-scripts && \\\n\trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "apt-get update",
            "apt-cache showpkg postgresql-$PG_MAJOR-postgis-$POSTGIS_MAJOR",
            "apt-get install -y --no-install-recommends            ca-certificates                       postgresql-$PG_MAJOR-postgis-$POSTGIS_MAJOR=$POSTGIS_VERSION            postgresql-$PG_MAJOR-postgis-$POSTGIS_MAJOR-scripts",
            "rm -rf /var/lib/apt/lists/*"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        },
        {
          "type": "RUN",
          "time": "2024-10-28T05:30:20Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN mkdir -p /docker-entrypoint-initdb.d",
          "command_all": "RUN mkdir -p /docker-entrypoint-initdb.d",
          "system_commands": [
            "mkdir -p /docker-entrypoint-initdb.d"
          ],
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        },
        {
          "type": "COPY",
          "time": "2024-10-28T05:30:20Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 731,
          "size_human": "731 B",
          "params": "./initdb-postgis.sh /docker-entrypoint-initdb.d/10_postgis.sh",
          "command_snippet": "COPY ./initdb-postgis.sh /docker-entrypoint-...",
          "command_all": "COPY ./initdb-postgis.sh /docker-entrypoint-initdb.d/10_postgis.sh",
          "comment": "buildkit.dockerfile.v0",
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        },
        {
          "type": "COPY",
          "time": "2024-10-28T05:30:20Z",
          "is_last_instruction": true,
          "is_nop": false,
          "local_image_exists": true,
          "layer_index": 0,
          "size": 1045,
          "size_human": "1.0 kB",
          "params": "./update-postgis.sh /usr/local/bin",
          "command_snippet": "COPY ./update-postgis.sh /usr/local/bin",
          "command_all": "COPY ./update-postgis.sh /usr/local/bin",
          "comment": "buildkit.dockerfile.v0",
          "raw_tags": [
            "postgis/postgis:latest"
          ],
          "is_buildkit_instruction": true,
          "inst_set_time_bucket": "2024-10-28T00:30:00-05:00",
          "inst_set_time_index": 1,
          "inst_set_time_reverse_index": 0
        }
      ]
    }
  ],
  "image_created": false,
  "image_build_engine": ""
}
